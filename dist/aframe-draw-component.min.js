!function(e){function t(i){if(a[i])return a[i].exports;var r=a[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){!function(){if("undefined"==typeof AFRAME)return void console.error("Component attempted to register before AFRAME was available.");var e={draw:a(1).component};Object.keys(e).forEach(function(t){AFRAME.aframeCore?AFRAME.aframeCore.registerComponent(t,e[t]):AFRAME.registerComponent(t,e[t])})}()},function(e,t){e.exports.component={schema:{width:{default:256},height:{default:256},background:{default:""},reverse:{default:!1}},init:function(){this.registers=[],this.update()},register:function(e){this.registers.push(e)},update:function(e){e||this.createCanvas(this.data.width,this.data.height,this.data.background)},createCanvas:function(e,t,a){var i=this,r=document.createElement("canvas");r.width=e,r.height=t,r.style="display: none",i.canvas=r,i.ctx=r.getContext("2d"),this.data.reverse&&(i.ctx.translate(e,0),i.ctx.scale(-1,1)),this.texture=new THREE.Texture(i.canvas),this.el.object3D.children.length>0?(this.el.object3D.children[0].material=new THREE.MeshBasicMaterial({transparent:"transparent"===a}),this.el.object3D.children[0].material.side=THREE.DoubleSide,this.el.object3D.children[0].material.map=this.texture):(this.el.object3D.material=new THREE.MeshBasicMaterial({transparent:"transparent"===a}),this.el.object3D.material.side=THREE.DoubleSide,this.el.object3D.material.map=this.texture),this.el.hasLoaded?i.render():this.el.addEventListener("loaded",function(){i.render()})},render:function(){if(this.registers.length>0){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var e=this.data.background;"transparent"!=e&&(this.ctx.fillStyle=this.data.background,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)),this.registers.forEach(function(e){e()})}this.texture.needsUpdate=!0},remove:function(){}}}]);